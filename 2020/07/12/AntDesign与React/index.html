
<!DOCTYPE html>
<html lang="zh-CN ">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zhjh&#39;s Blog || AntDesignä¸React</title>
    <meta name="author" content="Zhjh">
    <meta name="description" content=" ">
    <meta name="keywords" content=" ">
    <link rel="icon" href="/images/favicon.png">
    <link rel="stylesheet" href="/css/antd.min.css">
    
    <link rel="stylesheet" href="/css/full-theme.css">
    
    <script src="/js/vue.js"></script>
    <script src="/js/antd.min.js"></script>
<meta name="generator" content="Hexo 5.4.0"></head>

<body>

    <div id="loading"
        style="height: 100vh; width: 100%; position: fixed;display: flex;z-index: 200; justify-content: space-between;">
        <div id="loadleft" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div id="loadright" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div
            style="position: fixed; height: 100vh; width: 100%;display: flex;justify-content: center;align-items: center;">
            <div id="loadcontent"
                style="width:400px;height:400px;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px#a3ddfb; text-align:center;opacity:1;transition:opacity 0.3s ease-out;">
                <div>
                    <h2>LOADING...</h2>
                    <p>åŠ è½½è¿‡æ…¢è¯·å¼€å¯ç¼“å­˜(æµè§ˆå™¨é»˜è®¤å¼€å¯)</p>
                    <div>
                        <img src="/dancingkitty.gif" alt="loading">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="layout">
        <transition name="into">
            <div v-show="show_page" style="display: none;">
                <div id="menu_show">
                     
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">Zhjh's Blog</span>
        </a>
        
        <a href="/">
            <span>
                <a-icon type="home" theme="filled" />
            </span>
            <span>home</span>
        </a>
        
        <a href="/about">
            <span>
                <a-icon type="idcard" theme="filled" />
            </span>
            <span>about</span>
        </a>
        
        <a href="/archives">
            <span>
                <a-icon type="folder" theme="filled" />
            </span>
            <span>archives</span>
        </a>
        
        <a href="/categories">
            <span>
                <a-icon type="book" theme="filled" />
            </span>
            <span>categories</span>
        </a>
        
        <a href="/tags">
            <span>
                <a-icon type="tags" theme="filled" />
            </span>
            <span>tags</span>
        </a>
        
    </div>

    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div :class="'title'" @click="menu_show=!menu_show">
            <span style="margin-right: 10px;">
                <a-icon type="appstore" theme="filled" />
            </span>
            <span>Zhjh's Blog</span>
        </div>
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="home" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">home</div>
                </div>
            </a>
            
            <a href="/about">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="idcard" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">about</div>
                </div>
            </a>
            
            <a href="/archives">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="folder" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">archives</div>
                </div>
            </a>
            
            <a href="/categories">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="book" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">categories</div>
                </div>
            </a>
            
            <a href="/tags">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="tags" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">tags</div>
                </div>
            </a>
            
        </div>
        <div class="curtain" v-show="menu_show"></div>
    </div>

</nav>
                </div>

                <div id="main">
                     
<link rel="stylesheet" href="/css/post-body.css">
<div class="article">
    <div>
        <h1>AntDesignä¸React </h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2020/7/12
        </span>
        
        <span class="category">
            <a href="/categories/React">
                <span class="icon">
                    <a-icon type="book" theme="filled" />
                </span>
                React
            </a>
        </span>
        

        

        <span class="tags">
            <span class="icon">
                <a-icon type="tags" theme="filled" />
            </span>
            
            <span class="tag">
                
                <a href="/tags/AntDesign" style=color:#ffa2c4>
                    AntDesign
                </a>
            </span>
            
        </span>
        
    </div>

    <div class="content" v-pre>
        <h2 id="è®¤è¯†-AntDesign"><a href="#è®¤è¯†-AntDesign" class="headerlink" title="è®¤è¯† AntDesign"></a>è®¤è¯† AntDesign</h2><h3 id="AntDesign-ä»‹ç»"><a href="#AntDesign-ä»‹ç»" class="headerlink" title="AntDesign ä»‹ç»"></a>AntDesign ä»‹ç»</h3><p><strong>AntDesign</strong> ç®€ç§° <strong>antd</strong>, ä¸»è¦ç”¨äºç ”å‘ä¼ä¸šçº§ä¸­åå°äº§å“</p>
<p>AntDesign çš„ç‰¹ç‚¹</p>
<ol>
<li>ğŸŒˆ æç‚¼è‡ªä¼ä¸šçº§ä¸­åå°äº§å“çš„äº¤äº’è¯­è¨€å’Œè§†è§‰é£æ ¼</li>
<li>ğŸ“¦ å¼€ç®±å³ç”¨çš„é«˜è´¨é‡ React ç»„ä»¶</li>
<li>ğŸ›¡ï¸ ä½¿ç”¨ TypeScript å¼€å‘, æä¾›å®Œæ•´çš„ç±»å‹å®šä¹‰æ–‡ä»¶</li>
<li>âš™ï¸ å…¨é“¾è·¯å¼€å‘å’Œè®¾è®¡å·¥å…·ä½“ç³»</li>
<li>ğŸŒ æ•°åä¸ªå›½é™…åŒ–è¯­è¨€æ”¯æŒ</li>
<li>ğŸ¨ æ·±å…¥æ¯ä¸ªç»†èŠ‚çš„ä¸»é¢˜å®šåˆ¶èƒ½åŠ›</li>
</ol>
<span id="more"></span>
<p><strong>å…¨é“¾è·¯å¼€å‘å’Œè®¾è®¡æŒ‡çš„æ˜¯ä»€ä¹ˆ?</strong></p>
<ul>
<li>å…¨é“¾è·¯è¿™ä¸ªè¯å¤§æ¦‚æ˜¯ 16 å¹´ç”±é˜¿é‡Œæå‡ºçš„</li>
<li>ä»<strong>ä¸šåŠ¡æˆ˜ç•¥-ç”¨æˆ·åœºæ™¯-è®¾è®¡ç›®æ ‡-äº¤äº’ä½“éªŒ-ç”¨æˆ·æµç¨‹-é¢„æœŸæ•ˆç‡</strong>å…¨æ–¹é¢åˆ†æå’Œè€ƒè™‘</li>
<li>è¿™ä¸ªä¸»è¦æ˜¯äº§å“ç»ç†ä¼šè€ƒè™‘çš„ç‚¹</li>
</ul>
<p>AntDesign çš„å…¼å®¹æ€§</p>
<ul>
<li>ç°ä»£æµè§ˆå™¨å’Œ IE11 (éœ€è¦ polyfills)</li>
<li>æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“</li>
<li>Electron</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://s1.ax1x.com/2020/07/12/U3yhJf.png"><img src="https://s1.ax1x.com/2020/07/12/U3yhJf.png" alt="U3yhJf.png"></a></p>
<p><strong>antd@2.0</strong> ä¹‹åä¸å†æ”¯æŒ IE8, <strong>antd@4.0</strong> ä¹‹åä¸å†æ”¯æŒ IE9/10</p>
<p>ç›®å‰ç¨³å®šçš„ç‰ˆæœ¬ä¸º: v4.4.0</p>
<h3 id="AntDesign-å®‰è£…"><a href="#AntDesign-å®‰è£…" class="headerlink" title="AntDesign å®‰è£…"></a>AntDesign å®‰è£…</h3><p>ä½¿ç”¨ <code>npm</code> æˆ– <code>yarn</code> å®‰è£…</p>
<p><code>npm</code> å®‰è£…</p>
<pre><code class="lang-shell">npm install antd --save
</code></pre>
<p><code>yarn</code> å®‰è£…</p>
<pre><code class="lang-shell">yarn add antd
</code></pre>
<p>ä¹‹ååœ¨<code>index.js</code>ä¸­å¼•å…¥å…¨å±€çš„ Antd æ ·å¼</p>
<pre><code class="lang-css">import &#39;antd/dist/antd.css&#39;
</code></pre>
<p>åœ¨<code>App.js</code>ä¸­å°±å¯ä»¥ä½¿ç”¨ä¸€äº›ç»„ä»¶äº†</p>
<pre><code class="lang-react">import React, &#123; PureComponent &#125; from &#39;react&#39;
import &#123; Button, DatePicker &#125; from &#39;antd&#39;

export default class App extends PureComponent &#123;
  render() &#123;
    return (
      &lt;div&gt;
        &lt;div&gt;
          &lt;Button&gt;Default Button&lt;/Button&gt;
          &lt;Button type=&quot;primary&quot;&gt;Primary Button&lt;/Button&gt;
          &lt;Button type=&quot;dashed&quot;&gt;Dashed Button&lt;/Button&gt;
        &lt;/div&gt;
        &lt;div&gt;
          &lt;DatePicker
            onChange=&#123;this.onChange&#125;
            allowClear=&#123;false&#125;
            dateRender=&#123;this.userDateRender&#125;
          /&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    )
  &#125;

  onChange(date, dateString) &#123;
    console.log(date, dateString)
  &#125;

  userDateRender(current) &#123;
    const style = &#123;&#125;
    if (current.date() === 1) &#123;
      style.border = &#39;1px solid #1890ff&#39;
      style.borderRadius = &#39;50%&#39;
    &#125;
    return (
      &lt;div className=&quot;ant-picker-cell-inner&quot; style=&#123;style&#125;&gt;
        &#123;current.date()&#125;
      &lt;/div&gt;
    )
  &#125;
&#125;
</code></pre>
<p><a target="_blank" rel="noopener" href="https://s1.ax1x.com/2020/07/12/U32jHJ.png"><img src="https://s1.ax1x.com/2020/07/12/U32jHJ.png" alt="U32jHJ.png"></a></p>
<blockquote>
<p><strong>æ€è€ƒä¸€ä¸ªé—®é¢˜: Antd æ˜¯å¦ä¼šå°†ä¸€äº›æ²¡ç”¨çš„ä»£ç (ç»„ä»¶æˆ–è€…é€»è¾‘ä»£ç )å¼•å…¥, é€ æˆä»£ç åŒ…å¾ˆå¤§å‘¢?</strong></p>
<p><a target="_blank" rel="noopener" href="https://ant.design/docs/react/getting-started-cn#æŒ‰éœ€åŠ è½½">å®˜ç½‘æœ‰æåˆ°</a>: antd çš„ JS ä»£ç é»˜è®¤æ”¯æŒåŸºäº ES modules çš„ tree shaking, å¯¹äº JS éƒ¨åˆ†, ç›´æ¥å¼•å…¥<code>import &#123; Button &#125; from &#39;antd&#39;</code>å°±ä¼šæœ‰æŒ‰éœ€åŠ è½½çš„æ•ˆæœ</p>
</blockquote>
<h3 id="é«˜çº§é…ç½®"><a href="#é«˜çº§é…ç½®" class="headerlink" title="é«˜çº§é…ç½®"></a>é«˜çº§é…ç½®</h3><h4 id="è®¤è¯†-craco"><a href="#è®¤è¯†-craco" class="headerlink" title="è®¤è¯† craco"></a>è®¤è¯† craco</h4><p>ä¸Šé¢çš„ä½¿ç”¨è¿‡ç¨‹æ˜¯æ— æ³•å¯¹ä¸»é¢˜è¿›è¡Œé…ç½®çš„, è‹¥è¦å¯¹ä¸»é¢˜ç­‰ç›¸å…³çš„é«˜çº§ç‰¹æ€§è¿›è¡Œé…ç½®, éœ€è¦ä¿®æ”¹<code>create-react-app</code>çš„é»˜è®¤é…ç½®</p>
<p>å¦‚ä½•ä¿®æ”¹<code>create-react-app</code>çš„é»˜è®¤é…ç½®å‘¢?</p>
<ul>
<li>å¯ä»¥é€šè¿‡<code>yarn run eject</code>æ¥æš´éœ²å‡ºå¯¹åº”çš„é…ç½®ä¿¡æ¯è¿›è¡Œä¿®æ”¹</li>
<li>ä½†æ˜¯å¯¹äº Webpack ä¸ç†Ÿæ‚‰çš„äººæ¥è¯´, ç›´æ¥ä¿®æ”¹ CRA çš„é…ç½®æ˜¯å¦ä¼šç»™ä½ çš„é¡¹ç›®å¸¦æ¥è´Ÿæ‹…, ç”šè‡³ä¼šå¢åŠ é¡¹ç›®çš„éšæ‚£å’Œä¸ç¨³å®šæ€§å‘¢?</li>
<li>æ‰€ä»¥, åœ¨é¡¹ç›®å¼€å‘ä¸­æ˜¯ä¸å»ºè®®å¤§å®¶ç›´æ¥å»ä¿®æ”¹ CRA çš„é…ç½®ä¿¡æ¯çš„</li>
</ul>
<p>é‚£ä¹ˆå¦‚ä½•æ¥ä¿®æ”¹é»˜è®¤é…ç½®å‘¢? ç¤¾åŒºç›®å‰æœ‰ä¸¤ä¸ªæ¯”è¾ƒå¸¸è§çš„æ–¹æ¡ˆ</p>
<ol>
<li><code>react-app-rewired</code>+<code>customize-cra</code>(è¿™ä¸ªæ˜¯ antd æ—©æœŸæ¨èçš„æ–¹æ¡ˆ)</li>
<li><code>craco</code> (ç›®å‰ antd æ¨èçš„æ–¹æ¡ˆ)</li>
</ol>
<h5 id="å®‰è£…-craco"><a href="#å®‰è£…-craco" class="headerlink" title="å®‰è£… craco"></a>å®‰è£… craco</h5><pre><code class="lang-shell">yarn add @craco/craco
</code></pre>
<h5 id="ä¿®æ”¹-package-json-æ–‡ä»¶"><a href="#ä¿®æ”¹-package-json-æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ package.json æ–‡ä»¶"></a>ä¿®æ”¹ package.json æ–‡ä»¶</h5><ul>
<li>åŸæœ¬å¯åŠ¨æ—¶, æˆ‘ä»¬æ˜¯é€šè¿‡<code>react-scripts</code>æ¥ç®¡ç†çš„</li>
<li>ç°åœ¨å¯åŠ¨æ—¶, æˆ‘ä»¬é€šè¿‡<code>craco</code>æ¥ç®¡ç†</li>
</ul>
<pre><code class="lang-json">&quot;scripts&quot;: &#123;
-  &quot;start&quot;: &quot;react-scripts start&quot;,
-  &quot;build&quot;: &quot;react-scripts build&quot;,
-  &quot;test&quot;: &quot;react-scripts test&quot;,
+  &quot;start&quot;: &quot;craco start&quot;,
+  &quot;build&quot;: &quot;craco start&quot;,
+  &quot;test&quot;: &quot;craco test&quot;
&#125;
</code></pre>
<h5 id="craco-config-js-é…ç½®"><a href="#craco-config-js-é…ç½®" class="headerlink" title="craco.config.js é…ç½®"></a>craco.config.js é…ç½®</h5><p>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º<code>craco.config.js</code>æ–‡ä»¶ç”¨äºä¿®æ”¹é»˜è®¤é…ç½®</p>
<pre><code class="lang-javascript">module.exports = &#123;
  // é…ç½®...
&#125;
</code></pre>
<h4 id="é…ç½®ä¸»é¢˜"><a href="#é…ç½®ä¸»é¢˜" class="headerlink" title="é…ç½®ä¸»é¢˜"></a>é…ç½®ä¸»é¢˜</h4><p>æŒ‰ç…§<strong>é…ç½®ä¸»é¢˜</strong>çš„è¦æ±‚, è‡ªå®šä¹‰ä¸»é¢˜éœ€è¦ç”¨åˆ°ç±»ä¼¼<code>less-loader</code>æä¾›çš„ less å˜é‡è¦†ç›–åŠŸèƒ½</p>
<ul>
<li>æˆ‘ä»¬å¯ä»¥å¼•å…¥<code>craco-less</code>æ¥å¸®åŠ©åŠ è½½ less æ ·å¼å’Œä¿®æ”¹å˜é‡</li>
</ul>
<h5 id="å®‰è£…-craco-less"><a href="#å®‰è£…-craco-less" class="headerlink" title="å®‰è£… craco-less"></a>å®‰è£… craco-less</h5><pre><code class="lang-shell">yarn add craco-less
</code></pre>
<h5 id="ä¿®æ”¹-craco-config-js-ä¸­çš„-plugins"><a href="#ä¿®æ”¹-craco-config-js-ä¸­çš„-plugins" class="headerlink" title="ä¿®æ”¹ craco.config.js ä¸­çš„ plugins"></a>ä¿®æ”¹ craco.config.js ä¸­çš„ plugins</h5><ul>
<li>ä½¿ç”¨<code>modifyVars</code>å¯ä»¥åœ¨è¿è¡Œæ—¶ä¿®æ”¹ less å˜é‡</li>
</ul>
<pre><code class="lang-javascript">const CracoLessPlugin = require(&#39;craco-less&#39;)

module.exports = &#123;
  plugins: [
    &#123;
      plugin: CracoLessPlugin,
      options: &#123;
        lessLoaderOptions: &#123;
          lessOptions: &#123;
            modifyVars: &#123; &#39;@primary-color&#39;: &#39;#1DA57A&#39; &#125;,
            javascriptEnabled: true
          &#125;
        &#125;
      &#125;
    &#125;
  ]
&#125;
</code></pre>
<p>å¼•å…¥ antd çš„æ ·å¼æ—¶, å¼•å…¥<code>antd.less</code>æ–‡ä»¶</p>
<pre><code class="lang-javascript">// import &#39;antd/dist/antd.css&#39;
import &#39;antd/dist/antd.less&#39;
</code></pre>
<p>ä¿®æ”¹åé‡å¯<code>yarn start</code>, å¦‚æœçœ‹åˆ°ä¸€ä¸ªç»¿è‰²çš„æŒ‰é’®å°±è¯´æ˜é…ç½®æˆåŠŸäº†</p>
<h4 id="é…ç½®åˆ«å"><a href="#é…ç½®åˆ«å" class="headerlink" title="é…ç½®åˆ«å"></a>é…ç½®åˆ«å</h4><p>åœ¨é¡¹ç›®å¼€å‘ä¸­, æŸäº›ç»„ä»¶æˆ–è€…æ–‡ä»¶çš„å±‚çº§ä¼šè¾ƒæ·±</p>
<ul>
<li>å¦‚æœæˆ‘ä»¬é€šè¿‡ä¸Šå±‚ç›®å½•å»å¼•å…¥å°±ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µ: <code>../../../components/Button</code></li>
<li>å¦‚æœæˆ‘ä»¬å¯ä»¥é…ç½®åˆ«å, å°±å¯ä»¥ç›´æ¥ä»æ ¹ç›®å½•ä¸‹é¢å¼€å§‹æŸ¥æ‰¾æ–‡ä»¶: <code>@/components/Button</code>, ç”šè‡³æ˜¯: <code>components/Button</code></li>
</ul>
<p>é…ç½®åˆ«åä¹Ÿéœ€è¦ä¿®æ”¹ Webpack çš„é…ç½®, å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å€ŸåŠ©äº craco æ¥å®Œæˆ</p>
<pre><code class="lang-javascript">...

const path = require(&#39;path&#39;)
const resolve = dir =&gt; path.resolve(__dirnoame, dir)

module.exports = &#123;
  ...
  ,
  webpack: &#123;
    alias: &#123;
      &#39;@&#39;: resolve(&#39;src&#39;),
      &#39;components&#39;: resolve(&#39;src/components&#39;)
    &#125;
  &#125;
&#125;
</code></pre>
<p>åœ¨å¯¼å…¥æ—¶å°±å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼æ¥è¿›è¡Œä½¿ç”¨</p>
<pre><code class="lang-javascript">import LionCommentInput from &#39;@/components/comment-input&#39;
import LionCommentItem from &#39;components/comment-item&#39;
</code></pre>
<h2 id="AntDesign-æ¡ˆä¾‹"><a href="#AntDesign-æ¡ˆä¾‹" class="headerlink" title="AntDesign æ¡ˆä¾‹"></a>AntDesign æ¡ˆä¾‹</h2><p>æˆ‘ä»¬é€šè¿‡ AntDesign æ¥ç¼–å†™ä¸€ä¸ªç•™è¨€æ¿</p>
<p><a target="_blank" rel="noopener" href="https://s1.ax1x.com/2020/07/12/U8SngK.png"><img src="https://s1.ax1x.com/2020/07/12/U8SngK.png" alt="U8SngK.png"></a></p>
<h3 id="è¯„è®ºæ¡†"><a href="#è¯„è®ºæ¡†" class="headerlink" title="è¯„è®ºæ¡†"></a>è¯„è®ºæ¡†</h3><p>è¯„è®ºæ¡†æœ‰ä¸¤éƒ¨åˆ†ç»„æˆ</p>
<ol>
<li><code>TextArea</code>çš„è¾“å…¥æ¡†: <code>Input.TextArea</code></li>
<li>æäº¤è¯„è®ºçš„æŒ‰é’®: <code>Button</code></li>
</ol>
<pre><code class="lang-react">// comment-input
import React, &#123; PureComponent &#125; from &#39;react&#39;

import moment from &#39;moment&#39;
import &#123; Button, Input &#125; from &#39;antd&#39;

export default class LionCommentInput extends PureComponent &#123;
  constructor(props) &#123;
    super(props)

    this.state = &#123;
      value: &#39;&#39;
    &#125;
  &#125;

  render() &#123;
    return (
      &lt;div&gt;
        &lt;Input.TextArea
          rows=&#123;4&#125;
          onChange=&#123;e =&gt; this.onChange(e)&#125;
          value=&#123;this.state.value&#125;
        /&gt;
        &lt;Button onClick=&#123;e =&gt; this.onSubmit()&#125; type=&quot;primary&quot;&gt;
          æ·»åŠ è¯„è®º
        &lt;/Button&gt;
      &lt;/div&gt;
    )
  &#125;

  onChange(e) &#123;
    this.setState(&#123;
      value: e.target.value
    &#125;)
  &#125;

  onSubmit() &#123;
    console.log(this.state.value, moment().fromNow())
    const commentInfo = &#123;
      id: Date.now(),
      name: &#39;coderlion&#39;,
      avatar: &#39;https://www.coderlion.com/images/user_img.jpeg&#39;,
      content: &lt;p&gt;&#123;this.state.value&#125;&lt;/p&gt;,
      datetime: moment()
    &#125;

    this.props.submitComment(commentInfo)
    this.setState(&#123;
      value: &#39;&#39;
    &#125;)
  &#125;
&#125;
</code></pre>
<h3 id="è¯„è®ºåˆ—è¡¨"><a href="#è¯„è®ºåˆ—è¡¨" class="headerlink" title="è¯„è®ºåˆ—è¡¨"></a>è¯„è®ºåˆ—è¡¨</h3><p>è¯„è®ºåˆ—è¡¨ä¸»è¦æ˜¯ä½¿ç”¨<code>Comment</code>ç»„ä»¶, <code>Comment</code>ç»„ä»¶æœ‰ä¸€äº›å±æ€§</p>
<ul>
<li><p><code>author</code>: å±•ç¤ºä½œè€…çš„åç§°</p>
</li>
<li><p><code>avatar</code>: å±•ç¤ºä½œè€…çš„å¤´åƒ</p>
<ul>
<li>å¯ä»¥ä½¿ç”¨<code>Avatar</code>çš„ç»„ä»¶è¿›è¡Œå±•ç¤º</li>
</ul>
</li>
<li><p><code>content</code>: å±•ç¤ºè¯„è®ºçš„å†…å®¹</p>
</li>
<li><p><code>datetime</code>: å±•ç¤ºè¯„è®ºçš„æ—¶é—´</p>
<ul>
<li>å¯ä»¥ä½¿ç”¨<code>Tooltip</code>ç»„ä»¶, å½“é¼ æ ‡æ”¾åœ¨ä¸Šé¢æ—¶, ä¼šæ˜¾ç¤ºå¯¹åº”çš„<code>title</code>å†…å®¹</li>
</ul>
</li>
<li><p><code>actions</code>: è¯„è®ºä¸‹æ–¹çš„æ“ä½œæŒ‰é’®</p>
<ul>
<li>å¯ä»¥ä½¿ç”¨<code>DeleteOutlined</code>, ä½†æ˜¯å®ƒæ¥è‡ª<code>@ant-design/icons</code>, éœ€è¦æˆ‘ä»¬è¿›è¡Œå®‰è£…</li>
</ul>
</li>
</ul>
<pre><code class="lang-react">// comment-item.js
import React, &#123; PureComponent &#125; from &#39;react&#39;

import &#123; Comment, Avatar, Tooltip &#125; from &#39;antd&#39;
import &#123; DeleteOutlined &#125; from &#39;@ant-design/icons&#39;

export default class LionCommentItem extends PureComponent &#123;
  render() &#123;
    const &#123; comment &#125; = this.props

    return (
      &lt;Comment
        author=&#123;&lt;a href=&quot;/#&quot;&gt;&#123;comment.name&#125;&lt;/a&gt;&#125;
        avatar=&#123;&lt;Avatar src=&#123;comment.avatar&#125; alt=&#123;comment.name&#125; /&gt;&#125;
        content=&#123;comment.content&#125;
        datetime=&#123;
          &lt;Tooltip title=&#123;comment.datetime.format(&#39;YYYY-MM-DD HH:mm:ss&#39;)&#125;&gt;
            &lt;span&gt;&#123;comment.datetime.fromNow()&#125;&lt;/span&gt;
          &lt;/Tooltip&gt;
        &#125;
        actions=&#123;this.getActions()&#125;
      /&gt;
    )
  &#125;

  getActions() &#123;
    return [
      &lt;span onClick=&#123;this.props.removeItem&#125;&gt;
        &lt;DeleteOutlined /&gt; åˆ é™¤
      &lt;/span&gt;
    ]
  &#125;
&#125;
</code></pre>
<h3 id="App-ç»„ä»¶"><a href="#App-ç»„ä»¶" class="headerlink" title="App ç»„ä»¶"></a>App ç»„ä»¶</h3><p>æˆ‘ä»¬åœ¨<code>App.js</code>ä¸­, ä½¿ç”¨å°è£…å¥½çš„ä¸¤ä¸ªç»„ä»¶</p>
<pre><code class="lang-react">import React, &#123; PureComponent &#125; from &#39;react&#39;

import LionCommentInput from &#39;./comment-input&#39;
import LionCommentItem from &#39;./comment-item&#39;

export default class App extends PureComponent &#123;
  constructor(props) &#123;
    super(props)

    this.state = &#123;
      commentList: []
    &#125;
  &#125;

  render() &#123;
    return (
      &lt;div style=&#123;&#123; width: '500px', padding: '20px' &#125;&#125;&gt;
        &#123;this.state.commentList.map((item, index) =&gt; &#123;
          return (
            &lt;LionCommentItem
              key=&#123;item.id&#125;
              comment=&#123;item&#125;
              index=&#123;index&#125;
              removeItem=&#123;e =&gt; this.removeItem(index)&#125;
            /&gt;
          )
        &#125;)&#125;
        &lt;LionCommentInput submitComment=&#123;this.submitComment.bind(this)&#125; /&gt;
      &lt;/div&gt;
    )
  &#125;

  submitComment(comment) &#123;
    this.setState(&#123;
      commentList: [...this.state.commentList, comment]
    &#125;)
  &#125;

  removeItem(index) &#123;
    const newCommentList = [...this.state.commentList]
    newCommentList.splice(index, 1)
    this.setState(&#123;
      commentList: newCommentList
    &#125;)
  &#125;
&#125;
</code></pre>

    </div>

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <div id="comment">
        <div id="gitalk-container">
        </div>
    </div>
    
</div>

  <div class="post-toc" id="post-toc">
    <strong class="post-toc-title">ç›®å½•</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86-AntDesign"><span class="toc-text">è®¤è¯† AntDesign</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#AntDesign-%E4%BB%8B%E7%BB%8D"><span class="toc-text">AntDesign ä»‹ç»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AntDesign-%E5%AE%89%E8%A3%85"><span class="toc-text">AntDesign å®‰è£…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE"><span class="toc-text">é«˜çº§é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86-craco"><span class="toc-text">è®¤è¯† craco</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-craco"><span class="toc-text">å®‰è£… craco</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-package-json-%E6%96%87%E4%BB%B6"><span class="toc-text">ä¿®æ”¹ package.json æ–‡ä»¶</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#craco-config-js-%E9%85%8D%E7%BD%AE"><span class="toc-text">craco.config.js é…ç½®</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E4%B8%BB%E9%A2%98"><span class="toc-text">é…ç½®ä¸»é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-craco-less"><span class="toc-text">å®‰è£… craco-less</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-craco-config-js-%E4%B8%AD%E7%9A%84-plugins"><span class="toc-text">ä¿®æ”¹ craco.config.js ä¸­çš„ plugins</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%88%AB%E5%90%8D"><span class="toc-text">é…ç½®åˆ«å</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AntDesign-%E6%A1%88%E4%BE%8B"><span class="toc-text">AntDesign æ¡ˆä¾‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%84%E8%AE%BA%E6%A1%86"><span class="toc-text">è¯„è®ºæ¡†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%84%E8%AE%BA%E5%88%97%E8%A1%A8"><span class="toc-text">è¯„è®ºåˆ—è¡¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#App-%E7%BB%84%E4%BB%B6"><span class="toc-text">App ç»„ä»¶</span></a></li></ol></li></ol>
    <!-- <div class="back-to-top" id="back-to-top">
        <a href="javascript:void(0);">å›åˆ°é¡¶éƒ¨</a>
    </div>
    -->
</div>



                     
<footer id="footer">
    <div class="footer-wrap">
        <div>
            Â© 2020 - 2021 Zhjh&#39;s Blog
            <span class="footer-icon">
                <a-icon type="flag" theme="filled" /></span>
            @Zhjh
        </div>
        <!-- <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a
                target="_blank" rel="noopener" href="https://github.com/korilin/hexo-theme-particle">Particle Theme</a></div>
        
        <div> -->
            å¤‡æ¡ˆå·ï¼š<a target="_blank" rel="noopener" href="http://beian.miit.gov.cn/">
                ç¼ICPå¤‡ - 20001325å·
            </a>
        </div>
        
    </div>

</footer>

<script src="/js/highlight.min.js"></script>
<script src="/js/particle.js"></script>

                </div>
            </div>
        </transition>
        
    </div>

    <script>
      new Vue({
        el: "#layout",
        data: {
            show_page: false,
            onload_menu: false,
            menu_show: false,
            card_top: 100
        },
        created: function () {
            var that = this
            window.onload = function () {
                that.show_page = true
                document.getElementById("loadcontent").style.opacity = 0
                setTimeout(function () {
                    document.getElementById("loadleft").style.width = 0
                    document.getElementById("loadright").style.width = 0
                }, 300)
                setTimeout(function () {
                    document.getElementById("loading").style = "display:none"
                }, 600)
            }
        },
        mounted: function () {
            var that = this
            window.addEventListener('scroll', function (e) {
                that.menu_show = false
            })
        },
        methods: {
            home_click: function () {
                window.scrollTo({
                    top: window.innerHeight,
                    behavior: "smooth",
                });
            }
        }
    })
</script>

<script src="/js/md5.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: 'ce37b7d644656285b3f6',
        clientSecret: '3b328b4c8ec578d1e5c6bd874b247060ca91df29',
        repo: 'blog-comment',      // The repository of store comments,
        owner: 'cszhjh',
        admin: ['cszhjh'],
        language: 'zh-CN',
        id: md5(location.pathname),      // Ensure uniqueness and length less than 50
        distractionFreeMode: true  // Facebook-like distraction free mode
    })
    gitalk.render('gitalk-container')
</script>


    <script src="/js/toc.js"></script>
</body>

</html>
